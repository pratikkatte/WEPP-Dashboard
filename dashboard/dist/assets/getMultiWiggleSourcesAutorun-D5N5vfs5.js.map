{"version":3,"file":"getMultiWiggleSourcesAutorun-D5N5vfs5.js","sources":["../../node_modules/@jbrowse/plugin-wiggle/esm/getMultiWiggleSourcesAutorun.js"],"sourcesContent":["import { getContainingView, getSession } from '@jbrowse/core/util';\nimport { isAbortException } from '@jbrowse/core/util/aborting';\nimport { createStopToken } from '@jbrowse/core/util/stopToken';\nimport { getRpcSessionId } from '@jbrowse/core/util/tracks';\nimport { autorun } from 'mobx';\nimport { addDisposer, isAlive } from 'mobx-state-tree';\nexport function getMultiWiggleSourcesAutorun(self) {\n    addDisposer(self, autorun(async () => {\n        try {\n            const view = getContainingView(self);\n            if (!view.initialized) {\n                return;\n            }\n            const { rpcManager } = getSession(self);\n            const { adapterConfig } = self;\n            const token = createStopToken();\n            self.setSourcesLoading(token);\n            const sessionId = getRpcSessionId(self);\n            const sources = (await rpcManager.call(sessionId, 'MultiWiggleGetSources', {\n                regions: view.staticBlocks.contentBlocks,\n                sessionId,\n                adapterConfig,\n            }));\n            if (isAlive(self)) {\n                self.setSources(sources);\n            }\n        }\n        catch (e) {\n            if (!isAbortException(e) && isAlive(self)) {\n                console.error(e);\n                getSession(self).notifyError(`${e}`, e);\n            }\n        }\n    }));\n}\n"],"names":["getMultiWiggleSourcesAutorun","self","addDisposer","autorun","view","getContainingView","rpcManager","getSession","adapterConfig","token","createStopToken","sessionId","getRpcSessionId","sources","isAlive","e","isAbortException"],"mappings":"sHAMO,SAASA,EAA6BC,EAAM,CAC/CC,EAAYD,EAAME,EAAQ,SAAY,CAClC,GAAI,CACA,MAAMC,EAAOC,EAAiB,kBAACJ,CAAI,EACnC,GAAI,CAACG,EAAK,YACN,OAEJ,KAAM,CAAE,WAAAE,CAAU,EAAKC,EAAU,WAACN,CAAI,EAChC,CAAE,cAAAO,CAAa,EAAKP,EACpBQ,EAAQC,EAAAA,gBAAiB,EAC/BT,EAAK,kBAAkBQ,CAAK,EAC5B,MAAME,EAAYC,EAAe,gBAACX,CAAI,EAChCY,EAAW,MAAMP,EAAW,KAAKK,EAAW,wBAAyB,CACvE,QAASP,EAAK,aAAa,cAC3B,UAAAO,EACA,cAAAH,CAChB,CAAa,EACGM,EAAQb,CAAI,GACZA,EAAK,WAAWY,CAAO,CAEvC,OACeE,EAAG,CACF,CAACC,EAAAA,iBAAiBD,CAAC,GAAKD,EAAQb,CAAI,IACpC,QAAQ,MAAMc,CAAC,EACfR,EAAU,WAACN,CAAI,EAAE,YAAY,GAAGc,CAAC,GAAIA,CAAC,EAEtD,CACA,CAAK,CAAC,CACN","x_google_ignoreList":[0]}