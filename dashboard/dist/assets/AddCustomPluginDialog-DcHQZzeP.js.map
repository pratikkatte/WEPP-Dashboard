{"version":3,"file":"AddCustomPluginDialog-DcHQZzeP.js","sources":["../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/AddCustomPluginDialog.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { Button, Collapse, DialogActions, DialogContent, DialogContentText, TextField, } from '@mui/material';\nimport IconButton from '@mui/material/IconButton';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()(theme => ({\n    dialogContent: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n}));\nconst AddCustomPluginDialog = observer(function ({ onClose, model, }) {\n    const { classes, cx } = useStyles();\n    const [umdPluginName, setUMDPluginName] = useState('');\n    const [umdPluginUrl, setUMDPluginUrl] = useState('');\n    const [esmPluginUrl, setESMPluginUrl] = useState('');\n    const [cjsPluginUrl, setCJSPluginUrl] = useState('');\n    const [advancedOptionsOpen, setAdvancedOptionsOpen] = useState(false);\n    const { jbrowse } = getSession(model);\n    const ready = Boolean((umdPluginName && umdPluginUrl) || esmPluginUrl || cjsPluginUrl);\n    function handleSubmit() {\n        if (umdPluginName && umdPluginUrl) {\n            jbrowse.addPlugin({ name: umdPluginName, umdUrl: umdPluginUrl });\n        }\n        else if (esmPluginUrl) {\n            jbrowse.addPlugin({ esmUrl: esmPluginUrl });\n        }\n        else if (cjsPluginUrl) {\n            jbrowse.addPlugin({ cjsUrl: cjsPluginUrl });\n        }\n    }\n    return (React.createElement(Dialog, { open: true, onClose: onClose, title: \"Add custom plugin\" },\n        React.createElement(\"form\", { onSubmit: handleSubmit },\n            React.createElement(DialogContent, { className: classes.dialogContent },\n                React.createElement(DialogContentText, null, \"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build.\"),\n                React.createElement(TextField, { label: \"Plugin name\", variant: \"outlined\", value: umdPluginName, onChange: event => {\n                        setUMDPluginName(event.target.value);\n                    } }),\n                React.createElement(TextField, { label: \"Plugin URL\", variant: \"outlined\", value: umdPluginUrl, onChange: event => {\n                        setUMDPluginUrl(event.target.value);\n                    } }),\n                React.createElement(DialogContentText, { onClick: () => {\n                        setAdvancedOptionsOpen(!advancedOptionsOpen);\n                    } },\n                    React.createElement(IconButton, { className: cx(classes.expand, {\n                            [classes.expandOpen]: advancedOptionsOpen,\n                        }), \"aria-expanded\": advancedOptionsOpen, \"aria-label\": \"show more\" },\n                        React.createElement(ExpandMoreIcon, null)),\n                    \"Advanced options\"),\n                React.createElement(Collapse, { in: advancedOptionsOpen },\n                    React.createElement(\"div\", { className: classes.dialogContent },\n                        React.createElement(DialogContentText, null, \"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below.\"),\n                        React.createElement(TextField, { label: \"ESM build URL\", variant: \"outlined\", value: esmPluginUrl, onChange: event => {\n                                setESMPluginUrl(event.target.value);\n                            } }),\n                        React.createElement(TextField, { label: \"CJS build URL\", variant: \"outlined\", value: cjsPluginUrl, onChange: event => {\n                                setCJSPluginUrl(event.target.value);\n                            } })))),\n            React.createElement(DialogActions, null,\n                React.createElement(Button, { variant: \"contained\", onClick: onClose }, \"Cancel\"),\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: handleSubmit, disabled: !ready }, \"Submit\")))));\n});\nexport default AddCustomPluginDialog;\n"],"names":["useStyles","makeStyles","theme","AddCustomPluginDialog","observer","onClose","model","classes","cx","umdPluginName","setUMDPluginName","useState","umdPluginUrl","setUMDPluginUrl","esmPluginUrl","setESMPluginUrl","cjsPluginUrl","setCJSPluginUrl","advancedOptionsOpen","setAdvancedOptionsOpen","jbrowse","getSession","ready","handleSubmit","React","Dialog","DialogContent","DialogContentText","TextField","event","IconButton","ExpandMoreIcon","Collapse","DialogActions","Button"],"mappings":"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","x_google_ignoreList":[0]}