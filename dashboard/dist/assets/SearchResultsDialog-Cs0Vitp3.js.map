{"version":3,"file":"SearchResultsDialog-Cs0Vitp3.js","sources":["../node_modules/@jbrowse/plugin-linear-genome-view/esm/LinearGenomeView/components/SearchResultsTable.js","../node_modules/@jbrowse/plugin-linear-genome-view/esm/LinearGenomeView/components/SearchResultsDialog.js"],"sourcesContent":["import React from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { Button, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, } from '@mui/material';\nimport { getRoot, resolveIdentifier } from 'mobx-state-tree';\nexport default function SearchResultsTable({ searchResults, assemblyName: optAssemblyName, model, handleClose, }) {\n    const session = getSession(model);\n    const { pluginManager } = getEnv(session);\n    const { assemblyManager } = session;\n    const assemblyName = optAssemblyName || model.displayedRegions[0].assemblyName;\n    const assembly = assemblyManager.get(assemblyName);\n    if (!assembly) {\n        throw new Error(`assembly ${assemblyName} not found`);\n    }\n    if (!assembly.regions) {\n        throw new Error(`assembly ${assemblyName} regions not loaded`);\n    }\n    function getTrackName(trackId) {\n        var _a;\n        if (trackId) {\n            const schema = pluginManager.pluggableConfigSchemaType('track');\n            const configuration = resolveIdentifier(schema, getRoot(model), trackId);\n            return ((_a = configuration === null || configuration === void 0 ? void 0 : configuration.name) === null || _a === void 0 ? void 0 : _a.value) || '';\n        }\n        return '';\n    }\n    async function handleClick(location) {\n        var _a;\n        try {\n            const newRegion = (_a = assembly === null || assembly === void 0 ? void 0 : assembly.regions) === null || _a === void 0 ? void 0 : _a.find(region => location === region.refName);\n            if (newRegion) {\n                model.setDisplayedRegions([newRegion]);\n                model.showAllRegions();\n            }\n            else {\n                await model.navToLocString(location, assemblyName);\n            }\n        }\n        catch (e) {\n            console.warn(e);\n            session.notify(`${e}`, 'warning');\n        }\n    }\n    return (React.createElement(TableContainer, { component: Paper },\n        React.createElement(Table, null,\n            React.createElement(TableHead, null,\n                React.createElement(TableRow, null,\n                    React.createElement(TableCell, null, \"Name\"),\n                    React.createElement(TableCell, { align: \"right\" }, \"Location\"),\n                    React.createElement(TableCell, { align: \"right\" }, \"Track\"),\n                    React.createElement(TableCell, { align: \"right\" }))),\n            React.createElement(TableBody, null, searchResults.map(result => (React.createElement(TableRow, { key: result.getId() },\n                React.createElement(TableCell, { component: \"th\", scope: \"row\" }, result.getLabel()),\n                React.createElement(TableCell, { align: \"right\" }, result.getLocation()),\n                React.createElement(TableCell, { align: \"right\" }, getTrackName(result.getTrackId()) || 'N/A'),\n                React.createElement(TableCell, { align: \"right\" },\n                    React.createElement(Button, { onClick: async () => {\n                            try {\n                                await handleClick(result.getLocation() || result.getLabel());\n                                const resultTrackId = result.getTrackId();\n                                if (resultTrackId) {\n                                    model.showTrack(resultTrackId);\n                                }\n                            }\n                            catch (e) {\n                                console.error(e);\n                                session.notifyError(`${e}`, e);\n                            }\n                            handleClose();\n                        }, color: \"primary\", variant: \"contained\" }, \"Go\")))))))));\n}\n","import React from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { Button, DialogActions, DialogContent, Divider, Typography, } from '@mui/material';\nimport SearchResultsTable from './SearchResultsTable';\nexport default function SearchResultsDialog({ model, assemblyName, searchQuery, searchResults, handleClose, }) {\n    return (React.createElement(Dialog, { open: true, maxWidth: \"xl\", onClose: handleClose, title: \"Search results\" },\n        React.createElement(DialogContent, null, !(searchResults === null || searchResults === void 0 ? void 0 : searchResults.length) ? (React.createElement(Typography, null,\n            \"No results found for \",\n            React.createElement(\"b\", null, searchQuery))) : (React.createElement(React.Fragment, null,\n            React.createElement(Typography, null,\n                \"Showing results for \",\n                React.createElement(\"b\", null, searchQuery)),\n            React.createElement(SearchResultsTable, { model: model, handleClose: handleClose, assemblyName: assemblyName, searchResults: searchResults })))),\n        React.createElement(Divider, null),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { onClick: () => {\n                    handleClose();\n                }, color: \"primary\" }, \"Cancel\"))));\n}\n"],"names":["SearchResultsTable","searchResults","optAssemblyName","model","handleClose","session","getSession","pluginManager","getEnv","assemblyManager","assemblyName","assembly","getTrackName","trackId","_a","schema","configuration","resolveIdentifier","getRoot","handleClick","location","newRegion","region","e","React","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","result","Button","resultTrackId","SearchResultsDialog","searchQuery","Dialog","DialogContent","Typography","Divider","DialogActions"],"mappings":"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","x_google_ignoreList":[0,1]}