import{ab as d,ac as g,u as i,X as m,ad as e}from"./rpcWorker-BQYX6MpU.js";import{a as y}from"./aborting-xt-DQHG0.js";function E(t){d(t,g(async()=>{try{const a=i.getContainingView(t);if(!a.initialized||!t.statsReadyAndRegionNotTooLarge)return;const{rpcManager:n}=i.getSession(t),{sources:o,mafFilter:s,adapterConfig:c}=t;if(!o)return;const r=m.getRpcSessionId(t),u=await n.call(r,"MultiVariantGetSimplifiedFeatures",{regions:a.dynamicBlocks.contentBlocks,sources:o,mafFilter:s,sessionId:r,adapterConfig:c});e(t)&&t.setFeatures(u.map(p=>new i.SimpleFeature(p)))}catch(a){!y.isAbortException(a)&&e(t)&&(console.error(a),i.getSession(t).notifyError(`${a}`,a))}},{delay:1e3}))}export{E as getMultiVariantFeaturesAutorun};
//# sourceMappingURL=getMultiVariantFeaturesAutorun-P03gkMpT.js.map
