{"version":3,"file":"ChromSizesAdapter-BTYNKTZ4.js","sources":["../../node_modules/@jbrowse/plugin-sequence/esm/ChromSizesAdapter/ChromSizesAdapter.js"],"sourcesContent":["import { BaseAdapter } from '@jbrowse/core/data_adapters/BaseAdapter';\nimport { openLocation } from '@jbrowse/core/util/io';\nexport default class ChromSizesAdapter extends BaseAdapter {\n    async setupPre() {\n        const pm = this.pluginManager;\n        const file = openLocation(this.getConf('chromSizesLocation'), pm);\n        const data = await file.readFile('utf8');\n        return Object.fromEntries(data\n            .split(/\\n|\\r\\n|\\r/)\n            .map(f => f.trim())\n            .filter(f => !!f)\n            .map(line => {\n            const [name, length] = line.split('\\t');\n            return [name, +length];\n        }));\n    }\n    async setup() {\n        if (!this.setupP) {\n            this.setupP = this.setupPre().catch((e) => {\n                this.setupP = undefined;\n                throw e;\n            });\n        }\n        return this.setupP;\n    }\n    async getRegions() {\n        const refSeqs = await this.setup();\n        return Object.keys(refSeqs).map(refName => ({\n            refName,\n            start: 0,\n            end: refSeqs[refName],\n        }));\n    }\n    getHeader() {\n        return {};\n    }\n    freeResources() { }\n}\n"],"names":["ChromSizesAdapter","BaseAdapter","pm","data","openLocation","f","line","name","length","e","refSeqs","refName"],"mappings":"iFAEe,MAAMA,UAA0BC,EAAAA,WAAY,CACvD,MAAM,UAAW,CACb,MAAMC,EAAK,KAAK,cAEVC,EAAO,MADAC,EAAAA,aAAa,KAAK,QAAQ,oBAAoB,EAAGF,CAAE,EACxC,SAAS,MAAM,EACvC,OAAO,OAAO,YAAYC,EACrB,MAAM,YAAY,EAClB,IAAIE,GAAKA,EAAE,KAAM,CAAA,EACjB,OAAOA,GAAK,CAAC,CAACA,CAAC,EACf,IAAIC,GAAQ,CACb,KAAM,CAACC,EAAMC,CAAM,EAAIF,EAAK,MAAM,GAAI,EACtC,MAAO,CAACC,EAAM,CAACC,CAAM,CACjC,CAAS,CAAC,CACV,CACI,MAAM,OAAQ,CACV,OAAK,KAAK,SACN,KAAK,OAAS,KAAK,SAAQ,EAAG,MAAOC,GAAM,CACvC,WAAK,OAAS,OACRA,CACtB,CAAa,GAEE,KAAK,MACpB,CACI,MAAM,YAAa,CACf,MAAMC,EAAU,MAAM,KAAK,MAAO,EAClC,OAAO,OAAO,KAAKA,CAAO,EAAE,IAAIC,IAAY,CACxC,QAAAA,EACA,MAAO,EACP,IAAKD,EAAQC,CAAO,CAChC,EAAU,CACV,CACI,WAAY,CACR,MAAO,CAAE,CACjB,CACI,eAAgB,CAAA,CACpB","x_google_ignoreList":[0]}