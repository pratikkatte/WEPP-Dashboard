{"version":3,"file":"FromConfigRegionsAdapter-B1i-hrMY.js","sources":["../../node_modules/@jbrowse/plugin-config/esm/FromConfigRegionsAdapter/FromConfigRegionsAdapter.js"],"sourcesContent":["import { readConfObject } from '@jbrowse/core/configuration';\nimport { BaseAdapter } from '@jbrowse/core/data_adapters/BaseAdapter';\nimport { makeFeatures } from '../FromConfigAdapter/FromConfigAdapter';\nexport default class FromConfigRegionsAdapter extends BaseAdapter {\n    constructor(config, getSubAdapter, pluginManager) {\n        super(config, getSubAdapter, pluginManager);\n        const f = readConfObject(config, 'features');\n        this.features = makeFeatures(f);\n    }\n    async getRegions() {\n        const regions = [];\n        for (const [refName, features] of this.features) {\n            let currentRegion;\n            for (const feature of features) {\n                if (currentRegion &&\n                    currentRegion.end >= feature.get('start') &&\n                    currentRegion.start <= feature.get('end')) {\n                    currentRegion.end = feature.get('end');\n                }\n                else {\n                    if (currentRegion) {\n                        regions.push(currentRegion);\n                    }\n                    currentRegion = {\n                        refName,\n                        start: feature.get('start'),\n                        end: feature.get('end'),\n                    };\n                }\n            }\n            if (currentRegion) {\n                regions.push(currentRegion);\n            }\n        }\n        regions.sort((a, b) => a.refName.localeCompare(b.refName));\n        return regions;\n    }\n    freeResources() { }\n}\n"],"names":["FromConfigRegionsAdapter","BaseAdapter","config","getSubAdapter","pluginManager","f","readConfObject","makeFeatures","regions","refName","features","currentRegion","feature","a","b"],"mappings":"8MAGe,MAAMA,UAAiCC,EAAAA,WAAY,CAC9D,YAAYC,EAAQC,EAAeC,EAAe,CAC9C,MAAMF,EAAQC,EAAeC,CAAa,EAC1C,MAAMC,EAAIC,EAAAA,eAAeJ,EAAQ,UAAU,EAC3C,KAAK,SAAWK,EAAaF,CAAC,CACtC,CACI,MAAM,YAAa,CACf,MAAMG,EAAU,CAAE,EAClB,SAAW,CAACC,EAASC,CAAQ,IAAK,KAAK,SAAU,CAC7C,IAAIC,EACJ,UAAWC,KAAWF,EACdC,GACAA,EAAc,KAAOC,EAAQ,IAAI,OAAO,GACxCD,EAAc,OAASC,EAAQ,IAAI,KAAK,EACxCD,EAAc,IAAMC,EAAQ,IAAI,KAAK,GAGjCD,GACAH,EAAQ,KAAKG,CAAa,EAE9BA,EAAgB,CACZ,QAAAF,EACA,MAAOG,EAAQ,IAAI,OAAO,EAC1B,IAAKA,EAAQ,IAAI,KAAK,CACzB,GAGLD,GACAH,EAAQ,KAAKG,CAAa,CAE1C,CACQ,OAAAH,EAAQ,KAAK,CAACK,EAAGC,IAAMD,EAAE,QAAQ,cAAcC,EAAE,OAAO,CAAC,EAClDN,CACf,CACI,eAAgB,CAAA,CACpB","x_google_ignoreList":[0]}