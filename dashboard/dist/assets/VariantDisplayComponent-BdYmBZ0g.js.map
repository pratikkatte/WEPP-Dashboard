{"version":3,"file":"VariantDisplayComponent-BdYmBZ0g.js","sources":["../../node_modules/@jbrowse/plugin-variants/esm/MultiLinearVariantDisplay/components/VariantDisplayComponent.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { SanitizedHTML } from '@jbrowse/core/ui';\nimport BaseTooltip from '@jbrowse/core/ui/BaseTooltip';\nimport { getContainingView } from '@jbrowse/core/util';\nimport { BaseLinearDisplayComponent } from '@jbrowse/plugin-linear-genome-view';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nimport LegendBar from '../../shared/LegendBar';\nconst useStyles = makeStyles()({\n    cursor: {\n        pointerEvents: 'none',\n    },\n});\nconst MultiLinearVariantDisplayComponent = observer(function (props) {\n    const { model } = props;\n    const { classes } = useStyles();\n    const { height, sources, rowHeight, scrollTop } = model;\n    const ref = useRef(null);\n    const [mouseY, setMouseY] = useState();\n    const [mouseX, setMouseX] = useState();\n    const { width } = getContainingView(model);\n    return (React.createElement(\"div\", { ref: ref, onMouseMove: event => {\n            var _a;\n            const rect = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n            const top = (rect === null || rect === void 0 ? void 0 : rect.top) || 0;\n            const left = (rect === null || rect === void 0 ? void 0 : rect.left) || 0;\n            setMouseY(event.clientY - top);\n            setMouseX(event.clientX - left);\n        }, onMouseLeave: () => {\n            setMouseY(undefined);\n            setMouseX(undefined);\n        } },\n        React.createElement(BaseLinearDisplayComponent, { ...props }),\n        React.createElement(LegendBar, { model: model }),\n        mouseY && sources ? (React.createElement(\"div\", { style: { position: 'relative' } },\n            React.createElement(\"svg\", { className: classes.cursor, width: width, height: height, style: { position: 'absolute', top: scrollTop } },\n                React.createElement(\"line\", { x1: 0, x2: width, y1: mouseY - scrollTop, y2: mouseY - scrollTop, stroke: \"black\" }),\n                React.createElement(\"line\", { x1: mouseX, x2: mouseX, y1: 0, y2: height, stroke: \"black\" })),\n            React.createElement(BaseTooltip, null,\n                React.createElement(SanitizedHTML, { html: Object.entries(sources[Math.floor(mouseY / rowHeight)] || {})\n                        .filter(([key]) => key !== 'color')\n                        .map(([key, value]) => `${key}:${value}`)\n                        .join('\\n') })))) : null));\n});\nexport default MultiLinearVariantDisplayComponent;\n"],"names":["useStyles","makeStyles","MultiLinearVariantDisplayComponent","observer","props","model","classes","height","sources","rowHeight","scrollTop","ref","useRef","mouseY","setMouseY","useState","mouseX","setMouseX","width","getContainingView","React","event","_a","rect","top","left","BaseLinearDisplayComponent","LegendBar","BaseTooltip","SanitizedHTML","key","value"],"mappings":"kGAQA,MAAMA,EAAYC,EAAU,EAAG,CAC3B,OAAQ,CACJ,cAAe,MAClB,CACL,CAAC,EACKC,EAAqCC,EAAS,SAAUC,EAAO,CACjE,KAAM,CAAE,MAAAC,CAAK,EAAKD,EACZ,CAAE,QAAAE,CAAS,EAAGN,EAAW,EACzB,CAAE,OAAAO,EAAQ,QAAAC,EAAS,UAAAC,EAAW,UAAAC,CAAW,EAAGL,EAC5CM,EAAMC,EAAM,OAAC,IAAI,EACjB,CAACC,EAAQC,CAAS,EAAIC,WAAU,EAChC,CAACC,EAAQC,CAAS,EAAIF,WAAU,EAChC,CAAE,MAAAG,CAAK,EAAKC,EAAiB,kBAACd,CAAK,EACzC,OAAQe,EAAM,cAAc,MAAO,CAAE,IAAKT,EAAK,YAAaU,GAAS,CAC7D,IAAIC,EACJ,MAAMC,GAAQD,EAAKX,EAAI,WAAa,MAAQW,IAAO,OAAS,OAASA,EAAG,sBAAuB,EACzFE,GAAOD,GAAS,KAA0B,OAASA,EAAK,MAAQ,EAChEE,GAAQF,GAAS,KAA0B,OAASA,EAAK,OAAS,EACxET,EAAUO,EAAM,QAAUG,CAAG,EAC7BP,EAAUI,EAAM,QAAUI,CAAI,CACjC,EAAE,aAAc,IAAM,CACnBX,EAAU,MAAS,EACnBG,EAAU,MAAS,CAC/B,CAAW,EACHG,EAAM,cAAcM,EAA4B,CAAE,GAAGtB,CAAK,CAAE,EAC5DgB,EAAM,cAAcO,EAAW,CAAE,MAAOtB,CAAK,CAAE,EAC/CQ,GAAUL,EAAWY,EAAM,cAAc,MAAO,CAAE,MAAO,CAAE,SAAU,WAAc,EAC/EA,EAAM,cAAc,MAAO,CAAE,UAAWd,EAAQ,OAAQ,MAAOY,EAAO,OAAQX,EAAQ,MAAO,CAAE,SAAU,WAAY,IAAKG,EAAa,EACnIU,EAAM,cAAc,OAAQ,CAAE,GAAI,EAAG,GAAIF,EAAO,GAAIL,EAASH,EAAW,GAAIG,EAASH,EAAW,OAAQ,QAAS,EACjHU,EAAM,cAAc,OAAQ,CAAE,GAAIJ,EAAQ,GAAIA,EAAQ,GAAI,EAAG,GAAIT,EAAQ,OAAQ,OAAS,CAAA,CAAC,EAC/Fa,EAAM,cAAcQ,EAAa,KAC7BR,EAAM,cAAcS,EAAAA,cAAe,CAAE,KAAM,OAAO,QAAQrB,EAAQ,KAAK,MAAMK,EAASJ,CAAS,CAAC,GAAK,CAAE,CAAA,EAC9F,OAAO,CAAC,CAACqB,CAAG,IAAMA,IAAQ,OAAO,EACjC,IAAI,CAAC,CAACA,EAAKC,CAAK,IAAM,GAAGD,CAAG,IAAIC,CAAK,EAAE,EACvC,KAAK;AAAA,CAAI,CAAC,CAAE,CAAC,CAAC,EAAK,IAAI,CAChD,CAAC","x_google_ignoreList":[0]}