{"version":3,"file":"util-C26oAivo.js","sources":["../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/util.js"],"sourcesContent":["import { getConf } from '@jbrowse/core/configuration';\nimport { getContainingTrack, getContainingView, measureText, } from '@jbrowse/core/util';\nexport function moveUp(arr, sel, by = 1) {\n    const idxs = sel\n        .map(l => arr.findIndex(v => v.name === l))\n        .sort((a, b) => a - b);\n    let lastIdx = 0;\n    for (const old of idxs) {\n        const idx = Math.max(lastIdx, old - by);\n        if (idx >= lastIdx) {\n            arr.splice(idx, 0, arr.splice(old, 1)[0]);\n        }\n        lastIdx = lastIdx + 1;\n    }\n    return arr;\n}\nexport function moveDown(arr, sel, by = 1) {\n    const idxs = sel\n        .map(l => arr.findIndex(v => v.name === l))\n        .sort((a, b) => b - a);\n    let lastIdx = arr.length - 1;\n    for (const old of idxs) {\n        const idx = Math.min(lastIdx, old + by);\n        if (idx <= lastIdx) {\n            arr.splice(idx, 0, arr.splice(old, 1)[0]);\n        }\n        lastIdx = lastIdx - 1;\n    }\n    return arr;\n}\nconst trackLabelFontSize = 12.8;\nexport function getOffset(model) {\n    const { prefersOffset } = model;\n    const { trackLabels } = getContainingView(model);\n    const track = getContainingTrack(model);\n    const trackName = getConf(track, 'name');\n    return trackLabels === 'overlapping' && !prefersOffset\n        ? measureText(trackName, trackLabelFontSize) + 100\n        : 10;\n}\n"],"names":["moveUp","arr","sel","by","idxs","l","v","a","b","lastIdx","old","idx","moveDown","trackLabelFontSize","getOffset","model","prefersOffset","trackLabels","getContainingView","track","getContainingTrack","trackName","getConf","measureText"],"mappings":"+CAEO,SAASA,EAAOC,EAAKC,EAAKC,EAAK,EAAG,CACrC,MAAMC,EAAOF,EACR,IAAIG,GAAKJ,EAAI,UAAUK,GAAKA,EAAE,OAASD,CAAC,CAAC,EACzC,KAAK,CAACE,EAAGC,IAAMD,EAAIC,CAAC,EACzB,IAAIC,EAAU,EACd,UAAWC,KAAON,EAAM,CACpB,MAAMO,EAAM,KAAK,IAAIF,EAASC,EAAMP,CAAE,EAClCQ,GAAOF,GACPR,EAAI,OAAOU,EAAK,EAAGV,EAAI,OAAOS,EAAK,CAAC,EAAE,CAAC,CAAC,EAE5CD,EAAUA,EAAU,CAC5B,CACI,OAAOR,CACX,CACO,SAASW,EAASX,EAAKC,EAAKC,EAAK,EAAG,CACvC,MAAMC,EAAOF,EACR,IAAIG,GAAKJ,EAAI,UAAUK,GAAKA,EAAE,OAASD,CAAC,CAAC,EACzC,KAAK,CAACE,EAAGC,IAAMA,EAAID,CAAC,EACzB,IAAIE,EAAUR,EAAI,OAAS,EAC3B,UAAWS,KAAON,EAAM,CACpB,MAAMO,EAAM,KAAK,IAAIF,EAASC,EAAMP,CAAE,EAClCQ,GAAOF,GACPR,EAAI,OAAOU,EAAK,EAAGV,EAAI,OAAOS,EAAK,CAAC,EAAE,CAAC,CAAC,EAE5CD,EAAUA,EAAU,CAC5B,CACI,OAAOR,CACX,CACA,MAAMY,EAAqB,KACpB,SAASC,EAAUC,EAAO,CAC7B,KAAM,CAAE,cAAAC,CAAa,EAAKD,EACpB,CAAE,YAAAE,CAAW,EAAKC,EAAiB,kBAACH,CAAK,EACzCI,EAAQC,EAAkB,mBAACL,CAAK,EAChCM,EAAYC,EAAAA,QAAQH,EAAO,MAAM,EACvC,OAAOF,IAAgB,eAAiB,CAACD,EACnCO,cAAYF,EAAWR,CAAkB,EAAI,IAC7C,EACV","x_google_ignoreList":[0]}